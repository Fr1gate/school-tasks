=(

# Тестовые задания для PHP школы Braind
## Задание 1. Реализовать скрипт на PHP
В переменной $articleText хранится текст статьи. В переменной $articleLink хранится ссылка на страницу с полным текстом этой статьи.
Нужно в переменную $articlePreview записать анонс статьи (сокращённый текст) по правилам:
— обрезать до 200 символов;
— приписать многоточие;
— последние 3 слова и многоточие сделать ссылкой на полный текст статьи.
Дополнительно опиши текстом какие проблемы ты видишь в решении этой задачи? Что может пойти не так?
## Задание 2. Помочь программисту Пете победить эрроры и ворнинги
У программиста Пети есть код на PHP. У него было N фатальных ошибок и M ворнингов. Петя решил заставить код работать без ошибок и ворнингов, для чего ему его друг подарил подписку на хорошую IDE и github, так как только с помощью этих инструментов Петя смог бы найти и устранить все проблемы. Петя не очень опытный разработчик. Если Петя исправляет одну фатальную ошибку за коммит, то вместо неё появляется одна новая, если исправляет ворнинг в коммите, то вместо него появляется два новых ворнинга. Если Петя исправляет два ворнинга за один коммит, то появляется одна новая фатальная ошибка, и только когда Петя исправляет сразу две фатальные ошибки за один коммит, то не появляется ничего нового. Петя считает, что код будет полностью рабочим только если исправить все фатальные ошибки и ворнинги.
Определи минимальное количество коммитов, нужное для исправления всех багов. Напиши php-скрипт, который определит минимальное количество коммитов, необходимых для исправления кода.
Входные данные
В форму на странице можно ввести два числа N, M (0 ≤ N, M ≤ 1000).
Выходные данные
Нужно вывести одно число – минимальное количество коммитов, или -1, если исправить код Пети невозможно.
## Задание 3. Помочь ученикам в изучении странной математики
В связи с реформой образования был введен новый предмет, на котором изучаются различные альтернативные науки. Одной из таких наук является странная математика. Её основное отличие от обычной математики в том, что числа в ней упорядочены не по возрастанию, а лексикографически, то есть как в словаре (сначала по первой цифре, затем, при равной первой цифре – по второй, и так далее). Кроме того, рассматривается не бесконечное множество натуральных чисел, а лишь первые n чисел. Так, например, если n=11, то числа в странной математике оказываются упорядочены следующим образом: 1, 10, 11, 2, 3, 4, 5, 6, 7, 8, 9.
Помоги ученикам в изучении этой науки – напиши программу, которая по заданному n находит место заданного числа k в порядке, определенном в странной математике. Например, если n=11 и k=2, программа должна выдать в качестве ответа 4.
Пожалуйста, не используй стандартную функцию сортировки, напиши свою.

# Комментарии к решениям
## Задание 1

Что может пойти не так:
- при простой обрезке по 200му символу пострадает разметка, поэтому есть два пути:
    - Удалить всю разметку из статьи  
    ```php
    $articlePreview = strip_tags($articleText);
    ```
    - Обрезать и по мере мозможности восстановить разметку

Решил пойти по сложному пути и тут возникают проблемы.
- 200й символ может оказаться прямо внутри тега. Тогда мы должны удалить его.
- До 200го символа могли быть открывающие теги, которые необходимо закрыть, иначе они сломают всю верстку на странице. Тут можно ипользовать встроенную библиотеку PHP Tidy, но нужно убедиться, что она включена в конфиге.
- Нам нужно добавить тег ссылки на три последних слова. Однако мы не можем гарантировать, что не будет подобной ситуации:
```html
<b> lorem <a href="#"> ipsum dolor </b> sit...</a> 
```
Это также может исправить Tidy.

Если не использовать Tidy, то нам придется с помощью регулярного выражения создать массив открывающих тегов и массив закрывающих. Далее сравнить теги в этих массивах, и закрыть открывающие в порядке убывания их индекса в массиве. 

## Задание 2

Тут у нас 4 возможных коммита, которые можно сделать по условию:
1. не сделать ничего;
2. убрать ворнинг и прибавить 2; Важно, что это нельзя сделать при нуле ворнингов;
3. убрать 2 ворнинга и прибавить ошибку;
4. убрать 2 ошибки.

Определяем базовый случай и приводим задачу к нему.
Базовый случай - это четное число ошибок и 0 ворнингов.
- приводим ворнинги к нулю;
- если остался один ворнинг, то делаем 2, 3 коммиты;
- считаем сколько осталось ошибок;
- если ошибок нечетное число, то делаем 2, 2, 3 коммиты, выходим в ноль по ворнингам и получаем еще одну ошибку;
- теперь когда ошибок четное число просто делаем 4е коммиты;

Мы не можем исправить нечетное число ошибок только в том случае, если ворнингов изначально ноль.

## Задание 3

Нам нужно найти позицию K, если всего чисел N.
В задании также просят не использовать стандартную функцию лексикографической сортировки, а написать свою.
Однако для решения этой задачи нам не нужно сортировать массив чисел. Нам нужно просто посчитать сколько чисел находятся перед нашим числом, а для этого достаточно просто пройтись один раз по всем числам, привести каждое к строковому типу и сравнить с нашим.
```php
strcmp($k, (string)$i);
```
В таком случае нам потребуется пройти по всем N числам один раз. 
